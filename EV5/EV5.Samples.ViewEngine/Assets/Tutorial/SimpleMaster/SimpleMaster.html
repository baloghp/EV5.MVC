
<!DOCTYPE html>
<html lang="en">

<div eve-partial="eve-EV5.VE-Assets.Tutorial.Shared.Head.html" eve-renderinstead>

</div>

<body>
    <div eve-partial="eve-EV5.VE-Assets.Tutorial.Shared.Header.html" eve-renderinstead>

    </div>
    <main id="main">

        <!-- ======= Breadcrumbs ======= -->
        <section id="breadcrumbs" class="breadcrumbs">
            <div class="container">

                <ol>
                    <li><a href="/index">Home</a></li>
                    <li> Simple Page with a Master view</li>
                </ol>
                <h2> Simple Page with a Master view</h2>

            </div>
        </section>
        <!-- End Breadcrumbs -->

        <section class="inner-page">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <h3 class="panel-heading">Master View and Page View</h3>

                        <p>
                            You see how you can render any HTML en-block to the browser.
                            In a web application the pages usually contain common elements, that define the basic structure and the frame of every page.
                            These elements that frame each page can be abstracted  out and re-used commonly among many pages.
                            This helps to maintain better resource economy and change management.
                            <br />
                            <img src="/EV5.VE-Assets.Tutorial.ViewStructure.Slide1.PNG" />
                            <br />
                            Please take a look at the sample's result now, and we will observe how it is assembled.
                            <br />
                            <a href="/Sample/ShowSimpleMasterHtml">See the results in action by clicking here.</a>

                        </p>


                        <h3 class="panel-heading">Cutting the HTML to Master and View parts</h3>
                        <p>
                            First we have to separate the common parts that is going to be our Master view and the content part that may be changing, this is going to be the page view.
                            Here are the two files:
                            <br />
                            <img src="/EV5.VE-Assets.Tutorial.SimpleMaster.Markups.PNG" />
                            <br />
                            The Master HTML only contains the , the head element, the navigation section, the footer and the script references.
                            <ol>
                                <li>
                                    The opening and closing html tags
                                </li>
                                <li>
                                    The head Element and its content
                                </li>
                                <li>
                                    The Navigation section
                                </li>
                                <li>
                                    The Footer section
                                </li>
                                <li>
                                    The script references
                                </li>

                            </ol>
                            <img src="/EV5.VE-Assets.Tutorial.SimpleMaster.MasterHtml.png" />
                            <br />
                            The element with the <b>"eve-renderbody"</b> attribute marks the place where the page content part should be placed.
                            <pre style="font-family:Consolas;font-size:13px;color:#dadada;background:#1e1e1e;"><span style="color:gray;">&lt;</span><span style="color:#569cd6;">div</span>&nbsp;<span style="color:#9cdcfe;">eve-renderbody</span>&nbsp;<span style="color:#9cdcfe;">eve-renderinstead</span><span style="color:gray;">&gt;</span>

&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gray;">&lt;/</span><span style="color:#569cd6;">div</span><span style="color:gray;">&gt;</span>
</pre>


                            <br />

                            The page part contains the rest of the content, the sections for:
                            <ol>
                                <li>
                                    The header part
                                </li>
                                <li>
                                    The About Section
                                </li>
                                <li>
                                    The Services section
                                </li>
                                <li>
                                    The Portfolio section
                                </li>
                                <li>
                                    The Call To Action section
                                </li>
                                <li>
                                    The contact section
                                </li>
                            </ol>
                            <img src="/EV5.VE-Assets.Tutorial.SimpleMaster.PageHtml.png" />
                            <br />
                        </p>

                        <h3 class="panel-heading">View Classes for Master View and Page View</h3>
                        <p>
                            Now that the markups are separated, let's create the view classes for both the master and page views.
                            <br />
                            <img src="/EV5.VE-Assets.Tutorial.SimpleMaster.Markups.PNG" />
                            <br />
                            First we have to establish which master page is used for this page. here is the code for the page view:
                            <pre style="font-family:Consolas;font-size:13px;color:#dadada;background:#1e1e1e;"><span style="color:#569cd6;">namespace</span>&nbsp;<span style="color:gainsboro;">EV5</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">Samples</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">ViewEngine</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">Views</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">SimpleMaster</span>
<span style="color:gainsboro;">{</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">[</span><span style="color:gainsboro;">MasterView</span><span style="color:gainsboro;">(</span><span style="color:#d69d85;">&quot;eve-SimpleMaster.LandingPageMaster&quot;</span><span style="color:gainsboro;">)]</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">[</span><span style="color:gainsboro;">MarkupName</span><span style="color:gainsboro;">(</span><span style="color:#d69d85;">&quot;EV5.VE-Assets.Sample.SimpleMaster.LandingPage.html&quot;</span><span style="color:gainsboro;">)]</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">[</span><span style="color:gainsboro;">EmbeddedView</span><span style="color:gainsboro;">(</span><span style="color:#d69d85;">&quot;SimpleMaster.LandingPage&quot;</span><span style="color:gainsboro;">)]</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#569cd6;">public</span>&nbsp;<span style="color:#569cd6;">class</span>&nbsp;<span style="color:#4ec9b0;">LandingPageView</span>&nbsp;<span style="color:gainsboro;">:</span>&nbsp;<span style="color:gainsboro;">EmbeddedView</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">{</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#569cd6;">public</span>&nbsp;<span style="color:#569cd6;">override</span>&nbsp;<span style="color:#569cd6;">void</span>&nbsp;<span style="color:#dcdcaa;">ProcessView</span><span style="color:gainsboro;">(</span><span style="color:gainsboro;">ViewContext</span>&nbsp;<span style="color:#9cdcfe;">viewContext</span><span style="color:gainsboro;">)</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">{</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#569cd6;">var</span>&nbsp;<span style="color:#9cdcfe;">node</span>&nbsp;<span style="color:#b4b4b4;">=</span>&nbsp;<span style="color:#569cd6;">this</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">HtmlDocument</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">Document</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">SelectSingleNode</span><span style="color:gainsboro;">(</span><span style="color:#d69d85;">&quot;//h1&quot;</span><span style="color:gainsboro;">);</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#d8a0df;">if</span>&nbsp;<span style="color:gainsboro;">(</span><span style="color:gainsboro;">node</span>&nbsp;<span style="color:#b4b4b4;">!=</span>&nbsp;<span style="color:#569cd6;">null</span><span style="color:gainsboro;">)</span>&nbsp;&nbsp;<span style="color:gainsboro;">node</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">InnerHtml</span>&nbsp;<span style="color:#b4b4b4;">=</span>&nbsp;<span style="color:#d69d85;">&quot;Changed&nbsp;in&nbsp;the&nbsp;Page&nbsp;view&quot;</span><span style="color:gainsboro;">;</span>
 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#57a64a;">//*[@id=&quot;page-top&quot;]/footer/div/div</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">node</span>&nbsp;<span style="color:#b4b4b4;">=</span>&nbsp;<span style="color:#569cd6;">this</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">HtmlDocument</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">Document</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">SelectSingleNode</span><span style="color:gainsboro;">(</span><span style="color:#d69d85;">&quot;&nbsp;//footer/div/div&quot;</span><span style="color:gainsboro;">);</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#d8a0df;">if</span>&nbsp;<span style="color:gainsboro;">(</span><span style="color:gainsboro;">node</span>&nbsp;<span style="color:#b4b4b4;">!=</span>&nbsp;<span style="color:#569cd6;">null</span><span style="color:gainsboro;">)</span>&nbsp;<span style="color:gainsboro;">node</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">InnerHtml</span>&nbsp;<span style="color:#b4b4b4;">=</span>&nbsp;<span style="color:#d69d85;">&quot;Changed&nbsp;in&nbsp;the&nbsp;Page&nbsp;view&quot;</span><span style="color:gainsboro;">;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">}</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">}</span>
<span style="color:gainsboro;">}</span></pre>
                            The new element here is the <b>"MasterView"</b> Attribute that is denoting the master view to be used for this page.
                            <br />

                            The code for the master view is:
                            <pre style="font-family:Consolas;font-size:13px;color:#dadada;background:#1e1e1e;"><span style="color:#569cd6;">namespace</span>&nbsp;<span style="color:gainsboro;">EV5</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">Samples</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">ViewEngine</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">Views</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">SimpleMaster</span>
<span style="color:gainsboro;">{</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">[</span><span style="color:gainsboro;">MarkupName</span><span style="color:gainsboro;">(</span><span style="color:#d69d85;">&quot;EV5.VE-Assets.Sample.SimpleMaster.LandingPageMaster.html&quot;</span><span style="color:gainsboro;">)]</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">[</span><span style="color:gainsboro;">EmbeddedView</span><span style="color:gainsboro;">(</span><span style="color:#d69d85;">&quot;SimpleMaster.LandingPageMaster&quot;</span><span style="color:gainsboro;">)]</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#569cd6;">public</span>&nbsp;<span style="color:#569cd6;">class</span>&nbsp;<span style="color:#4ec9b0;">LandingPageMasterView</span>&nbsp;<span style="color:gainsboro;">:</span>&nbsp;<span style="color:gainsboro;">EmbeddedView</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">{</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#569cd6;">public</span>&nbsp;<span style="color:#569cd6;">override</span>&nbsp;<span style="color:#569cd6;">void</span>&nbsp;<span style="color:#dcdcaa;">ProcessView</span><span style="color:gainsboro;">(</span><span style="color:gainsboro;">ViewContext</span>&nbsp;<span style="color:#9cdcfe;">viewContext</span><span style="color:gainsboro;">)</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">{</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#569cd6;">var</span>&nbsp;<span style="color:#9cdcfe;">node</span>&nbsp;<span style="color:#b4b4b4;">=</span>&nbsp;<span style="color:#569cd6;">this</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">HtmlDocument</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">Document</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">SelectSingleNode</span><span style="color:gainsboro;">(</span><span style="color:#d69d85;">&quot;//h1&quot;</span><span style="color:gainsboro;">);</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#d8a0df;">if</span>&nbsp;<span style="color:gainsboro;">(</span><span style="color:gainsboro;">node</span>&nbsp;<span style="color:#b4b4b4;">!=</span>&nbsp;<span style="color:#569cd6;">null</span><span style="color:gainsboro;">)</span>&nbsp;<span style="color:gainsboro;">node</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">InnerHtml</span>&nbsp;<span style="color:#b4b4b4;">=</span>&nbsp;<span style="color:#d69d85;">&quot;Changed&nbsp;in&nbsp;the&nbsp;Master&nbsp;view&quot;</span><span style="color:gainsboro;">;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">node</span>&nbsp;<span style="color:#b4b4b4;">=</span>&nbsp;<span style="color:#569cd6;">this</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">HtmlDocument</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">Document</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">SelectSingleNode</span><span style="color:gainsboro;">(</span><span style="color:#d69d85;">&quot;//*[@id=\&quot;mainNav\&quot;]/div/a&quot;</span><span style="color:gainsboro;">);</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#d8a0df;">if</span>&nbsp;<span style="color:gainsboro;">(</span><span style="color:gainsboro;">node</span>&nbsp;<span style="color:#b4b4b4;">!=</span>&nbsp;<span style="color:#569cd6;">null</span><span style="color:gainsboro;">)</span>&nbsp;<span style="color:gainsboro;">node</span><span style="color:#b4b4b4;">.</span><span style="color:gainsboro;">InnerHtml</span>&nbsp;<span style="color:#b4b4b4;">=</span>&nbsp;<span style="color:#d69d85;">&quot;Changed&nbsp;in&nbsp;the&nbsp;Master&nbsp;view&quot;</span><span style="color:gainsboro;">;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">}</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:gainsboro;">}</span>
<span style="color:gainsboro;">}</span></pre>

                        </p>

                        <h3 class="panel-heading">Processing the Master View and Page View</h3>
                        <p>
                            In the above implementations you can see that the master view is trying to modify the navigation header and the Header Section text.
                            While the navigation header is part of the master markup, the Header section is not.
                            <br />
                            Also the page view is trying to modify the Header section, and the footer. Here the footer is not part of the page's markup.
                            <br />
                            If you click on the <a href="/Sample/ShowSimpleMasterHtml">result</a> you can see that the header section and the footer is successfully modified by the Page view.
                            While the master page could only modify the navigation header.
                            <br />
                            During the processing of the views the master page is always evaluated first, at that moment the Page content is not available yet.


                        </p>
                    </div>
                </div>
            </div>
        </section>

    </main><!-- End #main -->
    <div eve-partial="eve-EV5.VE-Assets.Tutorial.Shared.Footer.html" eve-renderinstead>

    </div>

</body>

</html>



